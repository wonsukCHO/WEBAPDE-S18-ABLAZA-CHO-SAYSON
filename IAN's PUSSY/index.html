<html>
    <head>
        <title>MemeHub</title>
        <link rel="stylesheet" type="text/css" href="semantic/semantic.min.css">
        <link href="https://fonts.googleapis.com/css?family=Viga" rel="stylesheet">
        <script
          src="https://code.jquery.com/jquery-3.1.1.min.js"
          integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
          crossorigin="anonymous"></script>
        <script src="semantic/semantic.min.js"></script>
        <script>
            // LEFT-RAIL STICKY
            $(window).scroll(function(e) {
                // Get the position of the location where the scroller starts.
                var scroller_anchor = $(".scroller_anchor").offset().top;
                
                // Check if the user has scrolled and the current position is after the scroller start location and if its not already fixed at the top
                if ($(this).scrollTop() >= scroller_anchor && $('.left-rail').css('position') != 'fixed') {
                    // Change the CSS of the scroller to hilight it and fix it at the top of the screen.
                    $('.left-rail').css({
                        'position': 'fixed',
                        'top':'100px'
                    });
                    // Changing the height of the scroller anchor to that of scroller so that there is no change in the overall height of the page.
                    /*
                    $('.scroller_anchor').css('height', '50px');
                    */
                } else if ($(this).scrollTop() < scroller_anchor && $('.left-rail').css('position') != 'relative') {
                    // If the user has scrolled back to the location above the scroller anchor place it back into the content.
                    // Change the height of the scroller anchor to 0 and now we will be adding the scroller back to the content.
                    $('.scroller_anchor').css('height', '0px');
                    // Change the CSS and put it back to its original position.
                    $('.left-rail').css({
                        'position': 'relative',
                        'top':'0px'
                    });
                }
            });
            
            // MODAL FUNCTIONALITY
            $(function(){
                $("#login").click(function(){
                    $(".login").modal('show');
                    $(".red.message").css("display","none");
                    showLogin()
                });
                
                $("#login2").click(function(){
                    $(".login").modal('show');
                    $(".red.message").css("display","none");
                    showLogin()
                });
            
                $(".login").modal({
                    closable: true
                });
                
                $(".share").click(function(){
                    $(".share_modal").modal('show');
                });
            
                $(".share_modal").modal({
                    closable: true
                });
                
                $(".meme_container img").click(function(){
                    $(".view_modal").modal('show');
                });
            
                $(".view_modal").modal({
                    closable: true
                });
            });
            
            // OTHER FUNCTIONS
            function showSignup(){
                $("#login_form").css("display","none")
                $(".logo_small").css("display","none")
                $("#signup_form").css("display","flex")
                $(".header.signup").text("Sign-up")
            }
            
            function showLogin(){
                $("#signup_form").css("display","none")
                $("#login_form").css("display","flex")
                $(".logo_small").css("display","inline-block")
                $(".header.signup").text("Login")  
                $(".red.message").css("display","none")
            }
            
            function isValidEmail(email){
                return true
            }
            
            function clearFields(){
                $("input").val("")
            }
            
            function signup(){
                $(".login").modal('hide')
                $(".registerSuccess").modal('show')
                clearFields()
                showLogin()
            }
            
            function login(){
                let username = $("#username").val()
                let password = $("#password").val()
                if (username == "admin" && password == "admin") {
                    window.location.replace("user.html");
                }
                else{
                   $(".red.message").css("display","flex")
                }
            }
            
            function changeItem(){
                $(".item.active").removeClass("active")
                $(this).addClass("active")
            }
            
            function changeAvatarChoice() {
                $(".ui.avatar").removeClass("selected")
                $(this).addClass("selected")
            }
            
            function checkFields() {
                let email = $("input[name=signup-email]").val()
                let username = $("input[name=signup-username]").val()
                let pass = $("input[name=signup-password]").val()
                let day = $("input[name=signup-day]").val()
                let year = $("input[name=signup-year]").val()
                let terms = $("input[name=signup-check]").is(":checked")
                
                if (terms && !isNaN(year) && !isNaN(day) && email != "" && username != "" && pass != "" && day != "" && year != "") {
                    if (isValidEmail(email) && parseInt(day,10) > 0 && parseInt(day,10) <= 31 && parseInt(year,10) > 0)
                        $("#signup_btn").removeClass("disabled")
                } else {
                    if (!$("#signup_btn").hasClass("disabled"))
                        $("#signup_btn").addClass("disabled")
                }
            }
            
            $(document).ready(function(){
                $("#goto_signup").click(showSignup)
                $("#goto_login").click(showLogin)
                $("#signup_btn").click(signup)
                $("#login_btn").click(login)
                $("a.item").click(changeItem)
                $(".ui.avatar").click(changeAvatarChoice)
                
                $("input[name=signup-email]").keypress(checkFields)
                $("input[name=signup-username]").keypress(checkFields)
                $("input[name=signup-password]").keypress(checkFields)
                $("input[name=signup-day]").keypress(checkFields)
                $("input[name=signup-year]").keypress(checkFields)
                $("input[name=signup-check]").click(checkFields)
            })
        </script>
        
        <link rel="stylesheet" type="text/css" href="custom.css">
    </head>
    <body>
        <!-------UPPER NAV BAR------>
        <div class="ui small menu borderless sticky">
            <a class="active item">Top</a>
            <a class="item">Hot</a>
            <a class="item">Trending</a>
            <div class="right menu">
                <div class="item">
                    <div class="ui orange button" id="login"><i class="user icon"></i>Login</div>
                </div>
            </div>
        </div>
        
        <!-------PARALLAX EFFECT FOR THE BACKGROUND------>
        <div class="parallax"></div>
        
        <!-------WRAPPER FOR LOGO AND MEME DASHBOARD------>
        <div class="wrapper">
            <div class="logo">Meme<span class="invert">Hub</span></div>
            
            <div class="scroller_anchor"></div>
            <div class="left-rail">
                <div class="small_container container">
                    <div class="header">Not logged in</div>
                    <div class="content">Log-in <span class="hyperlink" id="login2">here</span> to upload and react to memes.</div>
                </div>
                <div class="small_container container">
                    <div class="header">Popular Tags</div>
                    <div class="content">LUCIAS TAGS HERE</div>
                </div>
                <div class="small_container container">
                    <div class="header">Search by tags</div>
                    <div class="content">
                        <div class="ui left input" id="searchTag">
                            <input type="text">
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="container">
                <div class="meme_container">
                    <span class="meme_title">MEME TITLE</span>
                    <span class="meme_details">by Admin</span>
                    <div class="meme"><img src="https://media1.tenor.com/images/fa3003626b296c420d7dd7e37f794293/tenor.gif?itemid=8511784"/></div>
                    <div class="meme_stats">
                        <span><i class="chevron circle up icon"></i>72</span>
                        <span><i class="chevron circle down icon"></i>13</span>
                        <span><i class="share icon"></i></span>
                    </div>
                </div>
                
                <div class="meme_container">
                    <span class="meme_title">MEME TITLE</span>
                    <span class="meme_details">by Admin</span>
                    <div class="meme"><img src="https://i.redd.it/pjc8fqpsql711.jpg"/></div>
                    <div class="meme_stats">
                        <span><i class="chevron circle up icon"></i>72</span>
                        <span><i class="chevron circle down icon"></i>13</span>
                        <span><i class="share icon"></i></span>
                    </div>
                </div>
                
                <div class="meme_container">
                    <span class="meme_title">MEME TITLE</span>
                    <span class="meme_details">by Admin</span>
                    <div class="meme"><img src="https://i.redd.it/djobezumem711.jpg"/></div>
                    <div class="meme_stats">
                        <span><i class="chevron circle up icon"></i>72</span>
                        <span><i class="chevron circle down icon"></i>13</span>
                        <span><i class="share icon"></i></span>
                    </div>
                </div>   
            </div>
        </div>
        
        <!-------FOOTER------>
        <div class="ui container">
            GAMUTAN | ONA | PINEDA
        </div>
        
        <!-------PUT MODALS HERE------>
        <!-------SIGN-UP MODAL------>
        <div class="ui small modal login">
            <i class="close icon"></i>
            <div class="signup header">Login</div>
            <div class="content">
                <center>
                    <div class="logo_small">Meme<span class="invert">Hub</span></div>
                </center>
                <form class="ui large form" id="login_form">
                    <div class="ui left icon input">
                        <i class="user icon"></i>
                        <input id="username" type="text" name="username" placeholder="username">
                    </div>
                    
                    <div class="ui left icon input">
                        <i class="lock icon"></i>
                        <input id="password" type="password" name="password" placeholder="password">
                    </div>
                    <span id="newUser_container">
                    New to MemeHub? Sign up <span class="hyperlink" id="goto_signup">here</span>.
                    </span>
                    <div class="ui message red">
                        <div class="header">
                            Invalid credentials.
                        </div>
                    </div>
                    <div class="ui submit button" id="login_btn">Login</div>
                </form>
                <form class="ui form" id="signup_form">
                    <div class="three fields">
                        <div class="required field">
                            <label>Email</label>
                            <input type="text" name="signup-email" placeholder="john_smith@memehub.com">
                        </div>
                        <div class="required field">
                            <label>Username</label>
                            <input type="text" name="signup-username" placeholder="johnsmith96">
                        </div>
                        <div class="required field">
                            <label>Password</label>
                            <input type="password" name="signup-password" placeholder="******">
                        </div>
                    </div>         
                    
                    <div class="required field">
                        <label>Date of Birth</label>
                        <div class="three fields">
                            <div class="field">
                                <select class="ui fluid search dropdown" name="signup-month">
                                    <option value="1">January</option>
                                    <option value="2">February</option>
                                    <option value="3">March</option>
                                    <option value="4">April</option>
                                    <option value="5">May</option>
                                    <option value="6">June</option>
                                    <option value="7">July</option>
                                    <option value="8">August</option>
                                    <option value="9">September</option>
                                    <option value="10">October</option>
                                    <option value="11">November</option>
                                    <option value="12">December</option>
                                </select>
                            </div>
                            <div class="field">
                                <input type="number" name="signup-day" min="1" max="31" placeholder="Day">
                            </div>
                            <div class="field">
                                <input type="text" name="signup-year" maxlength="4" placeholder="Year">
                            </div>
                        </div>
                    </div>
                    <div class="two fields">
                        <div class="field">
                            <label>Description</label>
                            <textarea rows="3"></textarea>
                        </div>
                        <div class="field">
                            <label>Choose avatar</label>
                            <div class="container">
                                <img class="ui avatar" src="avatar/man-2.png">
                                <img class="ui avatar" src="avatar/boy-1.png">
                                <img class="ui avatar" src="avatar/boy.png">
                                <img class="ui avatar" src="avatar/girl-1.png">
                                <img class="ui avatar" src="avatar/girl.png">
                                <img class="ui avatar" src="avatar/man-1.png">
                            </div>
                        </div>
                    </div>
                 
                    <div class="field">
                        <div class="ui checkbox">
                            <input type="checkbox" tabindex="0" name="signup-check">
                            <label>I agree to the Terms and Conditions</label>
                        </div>
                    </div>
                    <span id="newUser_container">Already have an account? Login <span class="hyperlink" id="goto_login">here</span>.</span>
                    <div class="ui submit disabled button" id="signup_btn">Register</div>
                </form>
                
                
            </div>
        </div>
        
        <!-------SHARE MEME MODAL------>
        <div class="ui small modal share_modal">
            <i class="close icon"></i>
            <div class="header">Share meme</div>
            <div class="content">
            </div>
        </div>
        
        <!-------VIEW MEME MODAL------>
        <div class="ui small modal view_modal">
            <i class="close icon"></i>
            <div class="header">View meme</div>
            <div class="content">
                MART PUT UR STUFF HERE
            </div>
        </div>
        
        <!-------REGISTERED SUCCESFULLY MODAL------->
        <div class="ui modal registerSuccess">
            <i class="close icon"></i>
            <div class="header">Success <i class="check circle"></i></div>
            <div class="content">
                You have successfully registered for a MemeHub account!
            </div>
        </div>
    </body>
</html>